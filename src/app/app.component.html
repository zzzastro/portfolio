<div class="main-container">
  <!-- Particles background -->
  <app-particles-background
    [quantity]="400"
    [ease]="80"
    [color]="'#9E1DCD'"
    class="particles-backdrop">
  </app-particles-background>

  <div class="content-wrapper">
    <!-- Navbar -->
    <app-navbar></app-navbar>

    <!-- Home Section -->
    <section id="home" class="home-section">
      <div class="home-container">
        <!-- Left: Picture -->
        <div class="home-image">
          <img class="round-image" src="./assets/profile2.png" alt="My Picture">
        </div>
        <!-- Right: Description and Buttons -->
        <div class="home-description">
          <h1>Hi, I'm Ashish Bhatt</h1>
          <p>
            I'm a web developer passionate about building scalable, high-performance web
            applications. I specialize in Python and Django for the backend and Angular for
            dynamic, responsive interfaces. Continuously learning, I strive to create seamless
            and intuitive user experiences.
          </p>
          <div class="home-buttons">
            <!-- Button to download resume -->
            <a class="btn download-btn" href="./assets/resume.pdf" download>View Resume</a>
            <!-- Button to jump to the Contact section -->
            <a class="btn contact-btn" href="#contact">Contact Me</a>
          </div>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
      <h2>Core Skills</h2>
      <div class="tech-icons">
        <a href="https://www.python.org/about/" target="_blank"><img src="./assets/icons/python.png" alt="Python"></a>
        <a href="https://www.djangoproject.com" target="_blank"><img src="./assets/icons/dj2.png" alt="Django"></a>
        <a href="https://angular.dev/overview" target="_blank"><img src="./assets/icons/angular.png" alt="Angular"></a>
        <a href="https://www.typescriptlang.org" target="_blank"><img src="./assets/icons/ts.png" alt="TypeScript"></a>
        <a href="https://docs.docker.com/get-started/docker-overview/" target="_blank"><img
        src="./assets/icons/docker2.png" alt="Docker"></a>
        <a href="https://www.figma.com/" target="_blank"><img src="./assets/icons/figma.png" alt="Figma"></a>
        <a href="https://git-scm.com/doc" target="_blank"><img src="./assets/icons/git.png" alt="Git"></a>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects-section">
      <h2>Projects</h2>
      <div class="projects-grid">
        @for (project of projects; track project) {
          <div class="project-card">
            <!-- Image/Video Container -->
            <div class="project-image">
              @if (project.media.type === 'video') {
                <!-- Video with fallback on error -->
                <video
                  [src]="project.media.src"
                  controls
                  [muted]="true"
                  defaultMuted
                  poster="./assets/play_vid.png"
                  (error)="handleMediaError($event)">
                  <!-- Fallback poster for video if it doesn't load -->
                  <img [src]="'assets/fallback-image.png'" alt="Video failed" class="fallback-image" />
                </video>
              } @else {
                <img [src]="project.media.src" [alt]="project.title" (error)="handleMediaError($event)">
              }
            </div>
            <!-- Title -->
            <h3>{{ project.title }}</h3>
            <!-- Description -->
            <p class="project-description">{{ project.description }}</p>
            <!-- View Project Button -->
            @if (project.link) {
              <a class="project-btn" [href]="project.link" target="_blank">
                View Project
              </a>
            } @else {
              <a class="project-btn disabled" [attr.disabled]="true">View Unavailable</a>
            }
          </div>
        }
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
      <h2>Contact Me</h2>
      <div class="contact-icons">
        <a href="https://www.facebook.com/fallenaspen" target="_blank">
          <img src="./assets/icons/facebook.png" alt="Facebook">
        </a>
        <a href="https://linkedin.com/in/thatashishbhatt" target="_blank">
          <img src="./assets/icons/linkedin.png" alt="LinkedIn">
        </a>
        <a href="https://github.com/zzzastro" target="_blank">
          <img src="./assets/icons/github.png" alt="GitHub">
        </a>
        <!-- Email -->
        <a (click)="contactEmail()" title="Compose Email" class="email-link">
          <img src="./assets/icons/email.png" alt="Email">
        </a>
      </div>
    </section>

  </div>
</div>